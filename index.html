<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>jAddressParser by brianmhunt</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>jAddressParser</h1>
        <h2>A Javascript/Coffeescript library to parse address strings into their constituent elements </h2>

        <section id="downloads">
          <a href="https://github.com/brianmhunt/jAddressParser/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/brianmhunt/jAddressParser/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/brianmhunt/jAddressParser" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>jAddressParser</h1>

<p>A Javascript library for parsing valid address strings into their constituent elements.</p>

<p>It is hosted on GitHub at <a href="http://github.com/brianmhunt/jAddressParser">brianmhunt/jAddressParser</a>.</p>

<h2>Purpose</h2>

<p>This project exists to crowdsource the difficult problem of parsing addresses. It is intended to assist with the verification that addresses are properly formatted, and where they are properly formatted to parse and return their respective constituents.</p>

<p>At the moment this project does not aim to verify that an address is consistent with reality. For example, this library shall not verify that a given address in California has a local zip-code.</p>

<h2>Usage</h2>

<p>An example in <code>node.js</code>:</p>

<pre><code>&gt; ap = require('./jAddressParser')

&gt; ap.parse("100 Bay Street\nToronto, ON M5H 1T1\nCanada")
{ suite: '',
  addressee: '',
  street_number: '100',
  street_name_2: '',
  municipality: 'Toronto',
  province: 'ON',
  postal: 'M5H 1T1',
  country: 'Canada',
  street_name: 'Bay Street' }
</code></pre>

<h2>API</h2>

<h3><code>jAddressParser = require('jAddressParser')</code></h3>

<p>Return an instance of the Address Parser. Uses the <a href="https://github.com/jrburke/amdefine">amdefine</a> module for Node.js compatibility.</p>

<h3><code>jAddressParser.parse(address_string, defaultCountry)</code></h3>

<p>Parse the <code>address_string</code>, returning an object or throwing an exception where the address cannot be parsed.</p>

<p>If the <code>address_string</code> ends in a valid country name, that country is used, otherwise <code>defaultCountry</code> is used.</p>

<p>The object returned will contain the elements corresponding to the given country.</p>

<p><strong>TODO</strong> Where the <code>address_string</code> is ambiguous, return a message indicating that the string is ambiguous, and provide the multiple matching results so that the user can choose which is correct.</p>

<h2>Contributing</h2>

<p>Drop me a message or send along a pull request on GitHub. I would be delighted to co-ordinate support for addresses that may interest you.</p>

<p>The project is intended to divide-and-conquer. Each country has a strategy for parsing addresses, which strategy may be broken down into a variety of sub-strategies. In this way, I hope edge cases can eventually be shored up.</p>

<p>The built-in tests allow for easy verification that addresses return the expected fields. See for example <code>test/canada.coffee</code>.</p>

<h2>Browser Installation</h2>

<p>To install on the browser you can simply copy <code>build/jAddressParser.js</code> or <code>build/jAddressParser.min.js</code> to your project and include it in your project with eg the RequireJS <code>require('jAddressParser')</code>.</p>

<ul>
<li>
<a href="https://github.com/bestiejs/lodash">lodash</a> (or <a href="http://underscorejs.org/">underscore</a>)</li>
<li><a href="http://xregexp.com/">XRegExp</a></li>
<li>AMD eg <a href="http://requirejs.org/">requirejs</a>
</li>
</ul><h2>Requirements for testing</h2>

<p>With <a href="http://mxcl.github.com/homebrew/">Homebrew</a></p>

<ul>
<li>Node.js: <code>brew install node</code>
</li>
<li>Coffee-script <code>npm install -g coffee-script</code>
</li>
</ul><p>Once 'npm' and coffee-script installed, you can run <code>cake deps</code> to install the
remaining npm packages.</p>

<h2>Cakefile targets</h2>

<h4><code>cake toast</code></h4>

<p>Convert the coffeescript in the <code>src/</code> directory into a usable javascript
AMD modules <code>build/jAddressParser.js</code> and <code>build/jAddressParser.min.js</code> by calling <code>cake toast</code>.</p>

<h4><code>cake test</code></h4>

<p>Run <a href="http://visionmedia.github.com/mocha/">Mocha</a>-based tests on the project.</p>

<h3><code>cake deps</code></h3>

<p>Install dependencies in the <code>node_modules</code> subdirectory of the project.</p>

<h2>Future</h2>

<p>It is challenging to correctly parse the plethora of possible addresses, so contributions to the parsing and testing are most welcome.</p>

<p>Some ideas for future builds includes:</p>

<ul>
<li>Integration with libraries or services that provide address verification</li>
<li>Geocoding integration</li>
</ul><h2>License</h2>

<p>This project is licensed under the MIT license, which is included as LICENSE in the source.</p>
      </section>
    </div>

    
  </body>
</html>